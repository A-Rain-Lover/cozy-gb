/*
 *  File : Z80.h
 *  Description : TODO
 * */

#pragma once
#include <cstdint>
#include <cstddef>
#include <iostream>
extern unsigned char* ROM;
class Z80{
    private:
    struct registers{
        struct {
		    union {
			    struct {
				    uint8_t F;
				    uint8_t A;
			    };
			    uint16_t AF;
		    };
	    };

        struct {
		    union {
			    struct {
				    uint8_t C;
				    uint8_t B;
			    };
			    uint16_t BC;
		    };
	    };
        struct {
		    union {
			    struct {
				    uint8_t E;
				    uint8_t D;
			    };
			    uint16_t DE;
		    };
	    };

        struct {
		    union {
			    struct {
				    uint8_t L;
				    uint8_t H;
			    };
			    uint16_t HL;
		    };
	    };
	    uint16_t SP;
	    uint16_t PC;
    } registers;
    
    typedef struct {
        uint8_t opcode;
        char*   _asm;
        uint8_t cycles;
        uint8_t alt_cycles;
        uint8_t size;
        void(Z80::*function)(uint16_t);
    } inst_t;
    /* NOP */
    inline void i_0x0(uint16_t opcode){
    	std::cout<<">>> 0x"<<std::hex<<opcode<<std::endl;
    	return;
    }
    /* LD BC, $%4x */
    inline void i_0x1(uint16_t opcode){
    	std::cout<<">>> 0x"<<std::hex<<opcode<<std::endl;
    }
    inst_t  insts[256]={
		{0x0, "NOP ",4,0,1, 			&i_0x0},
		{0x1, "LD BC, $%4x",12,0,3, 	NULL},
		{0x2, "LD (BC), A",8,0,1, 		NULL},
		{0x3, "INC BC",8,0,1, 			NULL},
		{0x4, "INC B",4,0,1, 			NULL},
		{0x5, "DEC B",4,0,1, 			NULL},
		{0x6, "LD B, $%2x",8,0,2, 		NULL},
		{0x7, "RLCA ",4,0,1, 			NULL},
		{0x8, "LD (%4x), SP",20,0,3, 	NULL},
		{0x9, "ADD HL, BC",8,0,1, 		NULL},
		{0xa, "LD A, (BC)",8,0,1, 		NULL},
		{0xb, "DEC BC",8,0,1, 			NULL},
		{0xc, "INC C",4,0,1, 			NULL},
		{0xd, "DEC C",4,0,1, 			NULL},
		{0xe, "LD C, $%2x",8,0,2, 		NULL},
		{0xf, "RRCA ",4,0,1, 			NULL},
		{0x10, "STOP 0",4,0,1, 			NULL},
		{0x11, "LD DE, $%4x",12,0,3, 	NULL},
		{0x12, "LD (DE), A",8,0,1, 		NULL},
		{0x13, "INC DE",8,0,1, 			NULL},
		{0x14, "INC D",4,0,1, 			NULL},
		{0x15, "DEC D",4,0,1, 			NULL},
		{0x16, "LD D, $%2x",8,0,2, 		NULL},
		{0x17, "RLA ",4,0,1, 			NULL},
		{0x18, "JR <%2x>",12,0,2, 		NULL},
		{0x19, "ADD HL, DE",8,0,1, 		NULL},
		{0x1a, "LD A, (DE)",8,0,1, 		NULL},
		{0x1b, "DEC DE",8,0,1, 			NULL},
		{0x1c, "INC E",4,0,1, 			NULL},
		{0x1d, "DEC E",4,0,1, 			NULL},
		{0x1e, "LD E, $%2x",8,0,2, 		NULL},
		{0x1f, "RRA ",4,0,1, 			NULL},
		{0x20, "JR NZ, <%2x>",12,8,2, 	NULL},
		{0x21, "LD HL, $%4x",12,0,3, 	NULL},
		{0x22, "LD (HL+), A",8,0,1, 	NULL},
		{0x23, "INC HL",8,0,1, 			NULL},
		{0x24, "INC H",4,0,1, 			NULL},
		{0x25, "DEC H",4,0,1, 			NULL},
		{0x26, "LD H, $%2x",8,0,2, 		NULL},
		{0x27, "DAA ",4,0,1, 			NULL},
		{0x28, "JR Z, <%2x>",12,8,2, 	NULL},
		{0x29, "ADD HL, HL",8,0,1, 		NULL},
		{0x2a, "LD A, (HL+)",8,0,1, 	NULL},
		{0x2b, "DEC HL",8,0,1, 			NULL},
		{0x2c, "INC L",4,0,1, 			NULL},
		{0x2d, "DEC L",4,0,1, 			NULL},
		{0x2e, "LD L, $%2x",8,0,2, 		NULL},
		{0x2f, "CPL ",4,0,1, 			NULL},
		{0x30, "JR NC, <%2x>",12,8,2, 	NULL},
		{0x31, "LD SP, $%4x",12,0,3, 	NULL},
		{0x32, "LD (HL-), A",8,0,1, 	NULL},
		{0x33, "INC SP",8,0,1, 			NULL},
		{0x34, "INC (HL)",12,0,1, 		NULL},
		{0x35, "DEC (HL)",12,0,1, 		NULL},
		{0x36, "LD (HL), $%2x",12,0,2, 	NULL},
		{0x37, "SCF ",4,0,1, 			NULL},
		{0x38, "JR C, <%2x>",12,8,2, 	NULL},
		{0x39, "ADD HL, SP",8,0,1, 		NULL},
		{0x3a, "LD A, (HL-)",8,0,1, 	NULL},
		{0x3b, "DEC SP",8,0,1, 			NULL},
		{0x3c, "INC A",4,0,1, 			NULL},
		{0x3d, "DEC A",4,0,1, 			NULL},
		{0x3e, "LD A, $%2x",8,0,2, 		NULL},
		{0x3f, "CCF ",4,0,1, 			NULL},
		{0x41, "LD B, C",4,0,1, 		NULL},
		{0x40, "LD B, B",4,0,1, 		NULL},
		{0x42, "LD B, D",4,0,1, 		NULL},
		{0x43, "LD B, E",4,0,1, 		NULL},
		{0x44, "LD B, H",4,0,1, 		NULL},
		{0x45, "LD B, L",4,0,1, 		NULL},
		{0x46, "LD B, (HL)",8,0,1, 		NULL},
		{0x47, "LD B, A",4,0,1, 		NULL},
		{0x48, "LD C, B",4,0,1, 		NULL},
		{0x49, "LD C, C",4,0,1, 		NULL},
		{0x4a, "LD C, D",4,0,1, 		NULL},
		{0x4b, "LD C, E",4,0,1, 		NULL},
		{0x4c, "LD C, H",4,0,1, 		NULL},
		{0x4d, "LD C, L",4,0,1, 		NULL},
		{0x4e, "LD C, (HL)",8,0,1, 		NULL},
		{0x4f, "LD C, A",4,0,1, 		NULL},
		{0x50, "LD D, B",4,0,1, 		NULL},
		{0x51, "LD D, C",4,0,1, 		NULL},
		{0x52, "LD D, D",4,0,1, 		NULL},
		{0x53, "LD D, E",4,0,1, 		NULL},
		{0x54, "LD D, H",4,0,1, 		NULL},
		{0x55, "LD D, L",4,0,1, 		NULL},
		{0x56, "LD D, (HL)",8,0,1, 		NULL},
		{0x57, "LD D, A",4,0,1, 		NULL},
		{0x58, "LD E, B",4,0,1, 		NULL},
		{0x59, "LD E, C",4,0,1, 		NULL},
		{0x5a, "LD E, D",4,0,1, 		NULL},
		{0x5b, "LD E, E",4,0,1, 		NULL},
		{0x5c, "LD E, H",4,0,1, 		NULL},
		{0x5d, "LD E, L",4,0,1, 		NULL},
		{0x5e, "LD E, (HL)",8,0,1, 		NULL},
		{0x5f, "LD E, A",4,0,1, 		NULL},
		{0x60, "LD H, B",4,0,1, 		NULL},
		{0x61, "LD H, C",4,0,1, 		NULL},
		{0x62, "LD H, D",4,0,1, 		NULL},
		{0x63, "LD H, E",4,0,1, 		NULL},
		{0x64, "LD H, H",4,0,1, 		NULL},
		{0x65, "LD H, L",4,0,1, 		NULL},
		{0x66, "LD H, (HL)",8,0,1, 		NULL},
		{0x67, "LD H, A",4,0,1, 		NULL},
		{0x68, "LD L, B",4,0,1, 		NULL},
		{0x69, "LD L, C",4,0,1, 		NULL},
		{0x6a, "LD L, D",4,0,1, 		NULL},
		{0x6b, "LD L, E",4,0,1, 		NULL},
		{0x6c, "LD L, H",4,0,1, 		NULL},
		{0x6d, "LD L, L",4,0,1, 		NULL},
		{0x6e, "LD L, (HL)",8,0,1, 		NULL},
		{0x6f, "LD L, A",4,0,1, 		NULL},
		{0x70, "LD (HL), B",8,0,1, 		NULL},
		{0x71, "LD (HL), C",8,0,1, 		NULL},
		{0x72, "LD (HL), D",8,0,1, 		NULL},
		{0x73, "LD (HL), E",8,0,1, 		NULL},
		{0x74, "LD (HL), H",8,0,1, 		NULL},
		{0x75, "LD (HL), L",8,0,1, 		NULL},
		{0x76, "HALT ",4,0,1, 			NULL},
		{0x77, "LD (HL), A",8,0,1, 		NULL},
		{0x78, "LD A, B",4,0,1, 		NULL},
		{0x79, "LD A, C",4,0,1, NULL}, 
		{0x7a, "LD A, D",4,0,1, NULL}, 
		{0x7b, "LD A, E",4,0,1, NULL}, 
		{0x7c, "LD A, H",4,0,1, NULL}, 
		{0x7d, "LD A, L",4,0,1, NULL}, 
		{0x7e, "LD A, (HL)",8,0,1, NULL}, 
		{0x7f, "LD A, A",4,0,1, NULL}, 
		{0x80, "ADD A, B",4,0,1, NULL}, 
		{0x81, "ADD A, C",4,0,1, NULL}, 
		{0x82, "ADD A, D",4,0,1, NULL}, 
		{0x83, "ADD A, E",4,0,1, NULL}, 
		{0x84, "ADD A, H",4,0,1, NULL}, 
		{0x85, "ADD A, L",4,0,1, NULL}, 
		{0x86, "ADD A, (HL)",8,0,1, NULL}, 
		{0x87, "ADD A, A",4,0,1, NULL}, 
		{0x88, "ADC A, B",4,0,1, NULL}, 
		{0x89, "ADC A, C",4,0,1, NULL}, 
		{0x8a, "ADC A, D",4,0,1, NULL}, 
		{0x8b, "ADC A, E",4,0,1, NULL}, 
		{0x8c, "ADC A, H",4,0,1, NULL}, 
		{0x8d, "ADC A, L",4,0,1, NULL}, 
		{0x8e, "ADC A, (HL)",8,0,1, NULL}, 
		{0x8f, "ADC A, A",4,0,1, NULL}, 
		{0x90, "SUB B",4,0,1, NULL}, 
		{0x91, "SUB C",4,0,1, NULL}, 
		{0x92, "SUB D",4,0,1, NULL}, 
		{0x93, "SUB E",4,0,1, NULL}, 
		{0x94, "SUB H",4,0,1, NULL}, 
		{0x95, "SUB L",4,0,1, NULL}, 
		{0x96, "SUB (HL)",8,0,1, NULL}, 
		{0x97, "SUB A",4,0,1, NULL}, 
		{0x98, "SBC A, B",4,0,1, NULL}, 
		{0x99, "SBC A, C",4,0,1, NULL}, 
		{0x9a, "SBC A, D",4,0,1, NULL}, 
		{0x9b, "SBC A, E",4,0,1, NULL}, 
		{0x9c, "SBC A, H",4,0,1, NULL}, 
		{0x9d, "SBC A, L",4,0,1, NULL}, 
		{0x9e, "SBC A, (HL)",8,0,1, NULL}, 
		{0x9f, "SBC A, A",4,0,1, NULL}, 
		{0xa0, "AND B",4,0,1, NULL}, 
		{0xa1, "AND C",4,0,1, NULL}, 
		{0xa2, "AND D",4,0,1, NULL}, 
		{0xa3, "AND E",4,0,1, NULL}, 
		{0xa4, "AND H",4,0,1, NULL}, 
		{0xa5, "AND L",4,0,1, NULL}, 
		{0xa6, "AND (HL)",8,0,1, NULL}, 
		{0xa7, "AND A",4,0,1, NULL}, 
		{0xa8, "XOR B",4,0,1, NULL}, 
		{0xa9, "XOR C",4,0,1, NULL}, 
		{0xaa, "XOR D",4,0,1, NULL}, 
		{0xab, "XOR E",4,0,1, NULL}, 
		{0xac, "XOR H",4,0,1, NULL}, 
		{0xad, "XOR L",4,0,1, NULL}, 
		{0xae, "XOR (HL)",8,0,1, NULL}, 
		{0xaf, "XOR A",4,0,1, NULL}, 
		{0xb0, "OR B",4,0,1, NULL}, 
		{0xb1, "OR C",4,0,1, NULL}, 
		{0xb2, "OR D",4,0,1, NULL}, 
		{0xb3, "OR E",4,0,1, NULL}, 
		{0xb4, "OR H",4,0,1, NULL}, 
		{0xb5, "OR L",4,0,1, NULL}, 
		{0xb6, "OR (HL)",8,0,1, NULL}, 
		{0xb7, "OR A",4,0,1, NULL}, 
		{0xb8, "CP B",4,0,1, NULL}, 
		{0xb9, "CP C",4,0,1, NULL}, 
		{0xba, "CP D",4,0,1, NULL}, 
		{0xbb, "CP E",4,0,1, NULL}, 
		{0xbc, "CP H",4,0,1, NULL}, 
		{0xbd, "CP L",4,0,1, NULL}, 
		{0xbe, "CP (HL)",8,0,1, NULL}, 
		{0xbf, "CP A",4,0,1, NULL}, 
		{0xc0, "RET NZ",20,8,1, NULL}, 
		{0xc1, "POP BC",12,0,1, NULL}, 
		{0xc2, "JP NZ, (%4x)",16,12,3, NULL}, 
		{0xc3, "JP (%4x)",16,0,3, NULL}, 
		{0xc4, "CALL NZ, (%4x)",24,12,3, NULL}, 
		{0xc5, "PUSH BC",16,0,1, NULL}, 
		{0xc6, "ADD A, $%2x",8,0,2, NULL}, 
		{0xc7, "RST 00H",16,0,1, NULL}, 
		{0xc8, "RET Z",20,8,1, NULL}, 
		{0xc9, "RET ",16,0,1, NULL}, 
		{0xca, "JP Z, (%4x)",16,12,3, NULL}, 
		{0xcb, "PREFIX CB",4,0,1, NULL}, 
		{0xcc, "CALL Z, (%4x)",24,12,3, NULL}, 
		{0xcd, "CALL (%4x)",24,0,3, NULL}, 
		{0xce, "ADC A, $%2x",8,0,2, NULL}, 
		{0xcf, "RST 08H",16,0,1, NULL}, 
		{0xd0, "RET NC",20,8,1, NULL}, 
		{0xd1, "POP DE",12,0,1, NULL}, 
		{0xd2, "JP NC, (%4x)",16,12,3, NULL}, 
		{0xd3, "",0,0,0, NULL}, 
		{0xd4, "CALL NC, (%4x)",24,12,3, NULL}, 
		{0xd5, "PUSH DE",16,0,1, NULL}, 
		{0xd6, "SUB $%2x",8,0,2, NULL}, 
		{0xd7, "RST 10H",16,0,1, NULL}, 
		{0xd8, "RET C",20,8,1, NULL}, 
		{0xd9, "RETI ",16,0,1, NULL}, 
		{0xda, "JP C, (%4x)",16,12,3, NULL}, 
		{0xdb, "",0,0,0, NULL}, 
		{0xdc, "CALL C, (%4x)",24,12,3, NULL}, 
		{0xdd, "",0,0,0, NULL}, 
		{0xde, "SBC A, $%2x",8,0,2, NULL}, 
		{0xdf, "RST 18H",16,0,1, NULL}, 
		{0xe0, "LDH (%2x), A",12,0,2, NULL}, 
		{0xe1, "POP HL",12,0,1, NULL}, 
		{0xe2, "LD (C), A",8,0,1, NULL}, 
		{0xe3, "",0,0,0, NULL}, 
		{0xe4, "",0,0,0, NULL}, 
		{0xe5, "PUSH HL",16,0,1, NULL}, 
		{0xe6, "AND $%2x",8,0,2, NULL}, 
		{0xe7, "RST 20H",16,0,1, NULL}, 
		{0xe8, "ADD SP, <%2x>",16,0,2, NULL}, 
		{0xe9, "JP (HL)",4,0,1, NULL}, 
		{0xea, "LD (%4x), A",16,0,3, NULL}, 
		{0xeb, "",0,0,0, NULL}, 
		{0xec, "",0,0,0, NULL}, 
		{0xed, "",0,0,0, NULL}, 
		{0xee, "XOR $%2x",8,0,2, NULL}, 
		{0xef, "RST 28H",16,0,1, NULL}, 
		{0xf0, "LDH A, (%2x)",12,0,2, NULL}, 
		{0xf1, "POP AF",12,0,1, NULL}, 
		{0xf2, "LD A, (C)",8,0,1, NULL}, 
		{0xf3, "DI ",4,0,1, NULL}, 
		{0xf4, "",0,0,0, NULL}, 
		{0xf5, "PUSH AF",16,0,1, NULL}, 
		{0xf6, "OR $%2x",8,0,2, NULL}, 
		{0xf7, "RST 30H",16,0,1, NULL}, 
		{0xf8, "LD HL, SP+r8",12,0,2, NULL}, 
		{0xf9, "LD SP, HL",8,0,1, NULL}, 
		{0xfa, "LD A, (%4x)",16,0,3, NULL}, 
		{0xfb, "EI ",4,0,1, NULL},
		{0xfc, "",0,0,0, NULL},  
		{0xfd, "",0,0,0, NULL}, 
		{0xfe, "CP $%2x",8,0,2, NULL}, 
		{0xff, "RST 38H",16,0,1, NULL},
    };
    inst_t  CB_insts[256]={
	    {0x0, "RLC B",8,0,2, NULL}, 
		{0x1, "RLC C",8,0,2, NULL}, 
		{0x2, "RLC D",8,0,2, NULL}, 
		{0x3, "RLC E",8,0,2, NULL}, 
		{0x4, "RLC H",8,0,2, NULL}, 
		{0x5, "RLC L",8,0,2, NULL}, 
		{0x6, "RLC (HL)",16,0,2, NULL}, 
		{0x7, "RLC A",8,0,2, NULL}, 
		{0x8, "RRC B",8,0,2, NULL}, 
		{0x9, "RRC C",8,0,2, NULL}, 
		{0xa, "RRC D",8,0,2, NULL}, 
		{0xb, "RRC E",8,0,2, NULL}, 
		{0xc, "RRC H",8,0,2, NULL}, 
		{0xd, "RRC L",8,0,2, NULL}, 
		{0xe, "RRC (HL)",16,0,2, NULL}, 
		{0xf, "RRC A",8,0,2, NULL}, 
		{0x10, "RL B",8,0,2, NULL}, 
		{0x11, "RL C",8,0,2, NULL}, 
		{0x12, "RL D",8,0,2, NULL}, 
		{0x13, "RL E",8,0,2, NULL}, 
		{0x14, "RL H",8,0,2, NULL}, 
		{0x15, "RL L",8,0,2, NULL}, 
		{0x16, "RL (HL)",16,0,2, NULL}, 
		{0x17, "RL A",8,0,2, NULL}, 
		{0x18, "RR B",8,0,2, NULL}, 
		{0x19, "RR C",8,0,2, NULL}, 
		{0x1a, "RR D",8,0,2, NULL}, 
		{0x1b, "RR E",8,0,2, NULL}, 
		{0x1c, "RR H",8,0,2, NULL}, 
		{0x1d, "RR L",8,0,2, NULL}, 
		{0x1e, "RR (HL)",16,0,2, NULL}, 
		{0x1f, "RR A",8,0,2, NULL}, 
		{0x20, "SLA B",8,0,2, NULL}, 
		{0x21, "SLA C",8,0,2, NULL}, 
		{0x22, "SLA D",8,0,2, NULL}, 
		{0x23, "SLA E",8,0,2, NULL}, 
		{0x24, "SLA H",8,0,2, NULL}, 
		{0x25, "SLA L",8,0,2, NULL}, 
		{0x26, "SLA (HL)",16,0,2, NULL}, 
		{0x27, "SLA A",8,0,2, NULL}, 
		{0x28, "SRA B",8,0,2, NULL}, 
		{0x29, "SRA C",8,0,2, NULL}, 
		{0x2a, "SRA D",8,0,2, NULL}, 
		{0x2b, "SRA E",8,0,2, NULL}, 
		{0x2c, "SRA H",8,0,2, NULL}, 
		{0x2d, "SRA L",8,0,2, NULL}, 
		{0x2e, "SRA (HL)",16,0,2, NULL}, 
		{0x2f, "SRA A",8,0,2, NULL}, 
		{0x30, "SWAP B",8,0,2, NULL}, 
		{0x31, "SWAP C",8,0,2, NULL}, 
		{0x32, "SWAP D",8,0,2, NULL}, 
		{0x33, "SWAP E",8,0,2, NULL}, 
		{0x34, "SWAP H",8,0,2, NULL}, 
		{0x35, "SWAP L",8,0,2, NULL}, 
		{0x36, "SWAP (HL)",16,0,2, NULL}, 
		{0x37, "SWAP A",8,0,2, NULL}, 
		{0x38, "SRL B",8,0,2, NULL}, 
		{0x39, "SRL C",8,0,2, NULL}, 
		{0x3a, "SRL D",8,0,2, NULL}, 
		{0x3b, "SRL E",8,0,2, NULL}, 
		{0x3c, "SRL H",8,0,2, NULL}, 
		{0x3d, "SRL L",8,0,2, NULL}, 
		{0x3e, "SRL (HL)",16,0,2, NULL}, 
		{0x3f, "SRL A",8,0,2, NULL}, 
		{0x40, "BIT 0, B",8,0,2, NULL}, 
		{0x41, "BIT 0, C",8,0,2, NULL}, 
		{0x42, "BIT 0, D",8,0,2, NULL}, 
		{0x43, "BIT 0, E",8,0,2, NULL}, 
		{0x44, "BIT 0, H",8,0,2, NULL}, 
		{0x45, "BIT 0, L",8,0,2, NULL}, 
		{0x46, "BIT 0, (HL)",16,0,2, NULL}, 
		{0x47, "BIT 0, A",8,0,2, NULL}, 
		{0x48, "BIT 1, B",8,0,2, NULL}, 
		{0x49, "BIT 1, C",8,0,2, NULL}, 
		{0x4a, "BIT 1, D",8,0,2, NULL}, 
		{0x4b, "BIT 1, E",8,0,2, NULL}, 
		{0x4c, "BIT 1, H",8,0,2, NULL}, 
		{0x4d, "BIT 1, L",8,0,2, NULL}, 
		{0x4e, "BIT 1, (HL)",16,0,2, NULL}, 
		{0x4f, "BIT 1, A",8,0,2, NULL}, 
		{0x50, "BIT 2, B",8,0,2, NULL}, 
		{0x51, "BIT 2, C",8,0,2, NULL}, 
		{0x52, "BIT 2, D",8,0,2, NULL}, 
		{0x53, "BIT 2, E",8,0,2, NULL}, 
		{0x54, "BIT 2, H",8,0,2, NULL}, 
		{0x55, "BIT 2, L",8,0,2, NULL}, 
		{0x56, "BIT 2, (HL)",16,0,2, NULL}, 
		{0x57, "BIT 2, A",8,0,2, NULL}, 
		{0x58, "BIT 3, B",8,0,2, NULL}, 
		{0x59, "BIT 3, C",8,0,2, NULL}, 
		{0x5a, "BIT 3, D",8,0,2, NULL}, 
		{0x5b, "BIT 3, E",8,0,2, NULL}, 
		{0x5c, "BIT 3, H",8,0,2, NULL}, 
		{0x5d, "BIT 3, L",8,0,2, NULL}, 
		{0x5e, "BIT 3, (HL)",16,0,2, NULL}, 
		{0x5f, "BIT 3, A",8,0,2, NULL}, 
		{0x60, "BIT 4, B",8,0,2, NULL}, 
		{0x61, "BIT 4, C",8,0,2, NULL}, 
		{0x62, "BIT 4, D",8,0,2, NULL}, 
		{0x63, "BIT 4, E",8,0,2, NULL}, 
		{0x64, "BIT 4, H",8,0,2, NULL}, 
		{0x65, "BIT 4, L",8,0,2, NULL}, 
		{0x66, "BIT 4, (HL)",16,0,2, NULL}, 
		{0x67, "BIT 4, A",8,0,2, NULL}, 
		{0x68, "BIT 5, B",8,0,2, NULL}, 
		{0x69, "BIT 5, C",8,0,2, NULL}, 
		{0x6a, "BIT 5, D",8,0,2, NULL}, 
		{0x6b, "BIT 5, E",8,0,2, NULL}, 
		{0x6c, "BIT 5, H",8,0,2, NULL}, 
		{0x6d, "BIT 5, L",8,0,2, NULL}, 
		{0x6e, "BIT 5, (HL)",16,0,2, NULL}, 
		{0x6f, "BIT 5, A",8,0,2, NULL}, 
		{0x70, "BIT 6, B",8,0,2, NULL}, 
		{0x71, "BIT 6, C",8,0,2, NULL}, 
		{0x72, "BIT 6, D",8,0,2, NULL}, 
		{0x73, "BIT 6, E",8,0,2, NULL}, 
		{0x74, "BIT 6, H",8,0,2, NULL}, 
		{0x75, "BIT 6, L",8,0,2, NULL}, 
		{0x76, "BIT 6, (HL)",16,0,2, NULL}, 
		{0x77, "BIT 6, A",8,0,2, NULL}, 
		{0x78, "BIT 7, B",8,0,2, NULL}, 
		{0x79, "BIT 7, C",8,0,2, NULL}, 
		{0x7a, "BIT 7, D",8,0,2, NULL}, 
		{0x7b, "BIT 7, E",8,0,2, NULL}, 
		{0x7c, "BIT 7, H",8,0,2, NULL}, 
		{0x7d, "BIT 7, L",8,0,2, NULL}, 
		{0x7e, "BIT 7, (HL)",16,0,2, NULL}, 
		{0x7f, "BIT 7, A",8,0,2, NULL}, 
		{0x80, "RES 0, B",8,0,2, NULL}, 
		{0x81, "RES 0, C",8,0,2, NULL}, 
		{0x82, "RES 0, D",8,0,2, NULL}, 
		{0x83, "RES 0, E",8,0,2, NULL}, 
		{0x84, "RES 0, H",8,0,2, NULL}, 
		{0x85, "RES 0, L",8,0,2, NULL}, 
		{0x86, "RES 0, (HL)",16,0,2, NULL}, 
		{0x87, "RES 0, A",8,0,2, NULL}, 
		{0x88, "RES 1, B",8,0,2, NULL}, 
		{0x89, "RES 1, C",8,0,2, NULL}, 
		{0x8a, "RES 1, D",8,0,2, NULL}, 
		{0x8b, "RES 1, E",8,0,2, NULL}, 
		{0x8c, "RES 1, H",8,0,2, NULL}, 
		{0x8d, "RES 1, L",8,0,2, NULL}, 
		{0x8e, "RES 1, (HL)",16,0,2, NULL}, 
		{0x8f, "RES 1, A",8,0,2, NULL}, 
		{0x90, "RES 2, B",8,0,2, NULL}, 
		{0x91, "RES 2, C",8,0,2, NULL}, 
		{0x92, "RES 2, D",8,0,2, NULL}, 
		{0x93, "RES 2, E",8,0,2, NULL}, 
		{0x94, "RES 2, H",8,0,2, NULL}, 
		{0x95, "RES 2, L",8,0,2, NULL}, 
		{0x96, "RES 2, (HL)",16,0,2, NULL}, 
		{0x97, "RES 2, A",8,0,2, NULL}, 
		{0x98, "RES 3, B",8,0,2, NULL}, 
		{0x99, "RES 3, C",8,0,2, NULL}, 
		{0x9a, "RES 3, D",8,0,2, NULL}, 
		{0x9b, "RES 3, E",8,0,2, NULL}, 
		{0x9c, "RES 3, H",8,0,2, NULL}, 
		{0x9d, "RES 3, L",8,0,2, NULL}, 
		{0x9e, "RES 3, (HL)",16,0,2, NULL}, 
		{0x9f, "RES 3, A",8,0,2, NULL}, 
		{0xa0, "RES 4, B",8,0,2, NULL}, 
		{0xa1, "RES 4, C",8,0,2, NULL}, 
		{0xa2, "RES 4, D",8,0,2, NULL}, 
		{0xa3, "RES 4, E",8,0,2, NULL}, 
		{0xa4, "RES 4, H",8,0,2, NULL}, 
		{0xa5, "RES 4, L",8,0,2, NULL}, 
		{0xa6, "RES 4, (HL)",16,0,2, NULL}, 
		{0xa7, "RES 4, A",8,0,2, NULL}, 
		{0xa8, "RES 5, B",8,0,2, NULL}, 
		{0xa9, "RES 5, C",8,0,2, NULL}, 
		{0xaa, "RES 5, D",8,0,2, NULL}, 
		{0xab, "RES 5, E",8,0,2, NULL}, 
		{0xac, "RES 5, H",8,0,2, NULL}, 
		{0xad, "RES 5, L",8,0,2, NULL}, 
		{0xae, "RES 5, (HL)",16,0,2, NULL}, 
		{0xaf, "RES 5, A",8,0,2, NULL}, 
		{0xb0, "RES 6, B",8,0,2, NULL}, 
		{0xb1, "RES 6, C",8,0,2, NULL}, 
		{0xb2, "RES 6, D",8,0,2, NULL}, 
		{0xb3, "RES 6, E",8,0,2, NULL}, 
		{0xb4, "RES 6, H",8,0,2, NULL}, 
		{0xb5, "RES 6, L",8,0,2, NULL}, 
		{0xb6, "RES 6, (HL)",16,0,2, NULL}, 
		{0xb7, "RES 6, A",8,0,2, NULL}, 
		{0xb8, "RES 7, B",8,0,2, NULL}, 
		{0xb9, "RES 7, C",8,0,2, NULL}, 
		{0xba, "RES 7, D",8,0,2, NULL}, 
		{0xbb, "RES 7, E",8,0,2, NULL}, 
		{0xbc, "RES 7, H",8,0,2, NULL}, 
		{0xbd, "RES 7, L",8,0,2, NULL}, 
		{0xbe, "RES 7, (HL)",16,0,2, NULL}, 
		{0xbf, "RES 7, A",8,0,2, NULL}, 
		{0xc0, "SET 0, B",8,0,2, NULL}, 
		{0xc1, "SET 0, C",8,0,2, NULL}, 
		{0xc2, "SET 0, D",8,0,2, NULL}, 
		{0xc3, "SET 0, E",8,0,2, NULL}, 
		{0xc4, "SET 0, H",8,0,2, NULL}, 
		{0xc5, "SET 0, L",8,0,2, NULL}, 
		{0xc6, "SET 0, (HL)",16,0,2, NULL}, 
		{0xc7, "SET 0, A",8,0,2, NULL}, 
		{0xc8, "SET 1, B",8,0,2, NULL}, 
		{0xc9, "SET 1, C",8,0,2, NULL}, 
		{0xca, "SET 1, D",8,0,2, NULL}, 
		{0xcb, "SET 1, E",8,0,2, NULL}, 
		{0xcc, "SET 1, H",8,0,2, NULL}, 
		{0xcd, "SET 1, L",8,0,2, NULL}, 
		{0xce, "SET 1, (HL)",16,0,2, NULL}, 
		{0xcf, "SET 1, A",8,0,2, NULL}, 
		{0xd0, "SET 2, B",8,0,2, NULL}, 
		{0xd1, "SET 2, C",8,0,2, NULL}, 
		{0xd2, "SET 2, D",8,0,2, NULL}, 
		{0xd3, "SET 2, E",8,0,2, NULL}, 
		{0xd4, "SET 2, H",8,0,2, NULL}, 
		{0xd5, "SET 2, L",8,0,2, NULL}, 
		{0xd6, "SET 2, (HL)",16,0,2, NULL}, 
		{0xd7, "SET 2, A",8,0,2, NULL}, 
		{0xd8, "SET 3, B",8,0,2, NULL}, 
		{0xd9, "SET 3, C",8,0,2, NULL}, 
		{0xda, "SET 3, D",8,0,2, NULL}, 
		{0xdb, "SET 3, E",8,0,2, NULL}, 
		{0xdc, "SET 3, H",8,0,2, NULL}, 
		{0xdd, "SET 3, L",8,0,2, NULL}, 
		{0xde, "SET 3, (HL)",16,0,2, NULL}, 
		{0xdf, "SET 3, A",8,0,2, NULL}, 
		{0xe0, "SET 4, B",8,0,2, NULL}, 
		{0xe1, "SET 4, C",8,0,2, NULL}, 
		{0xe2, "SET 4, D",8,0,2, NULL}, 
		{0xe3, "SET 4, E",8,0,2, NULL}, 
		{0xe4, "SET 4, H",8,0,2, NULL}, 
		{0xe5, "SET 4, L",8,0,2, NULL}, 
		{0xe6, "SET 4, (HL)",16,0,2, NULL}, 
		{0xe7, "SET 4, A",8,0,2, NULL}, 
		{0xe8, "SET 5, B",8,0,2, NULL}, 
		{0xe9, "SET 5, C",8,0,2, NULL}, 
		{0xea, "SET 5, D",8,0,2, NULL}, 
		{0xeb, "SET 5, E",8,0,2, NULL}, 
		{0xec, "SET 5, H",8,0,2, NULL}, 
		{0xed, "SET 5, L",8,0,2, NULL}, 
		{0xee, "SET 5, (HL)",16,0,2, NULL}, 
		{0xef, "SET 5, A",8,0,2, NULL}, 
		{0xf0, "SET 6, B",8,0,2, NULL}, 
		{0xf1, "SET 6, C",8,0,2, NULL}, 
		{0xf2, "SET 6, D",8,0,2, NULL}, 
		{0xf3, "SET 6, E",8,0,2, NULL}, 
		{0xf4, "SET 6, H",8,0,2, NULL}, 
		{0xf5, "SET 6, L",8,0,2, NULL}, 
		{0xf6, "SET 6, (HL)",16,0,2, NULL}, 
		{0xf7, "SET 6, A",8,0,2, NULL}, 
		{0xf8, "SET 7, B",8,0,2, NULL}, 
		{0xf9, "SET 7, C",8,0,2, NULL}, 
		{0xfa, "SET 7, D",8,0,2, NULL}, 
		{0xfb, "SET 7, E",8,0,2, NULL}, 
		{0xfc, "SET 7, H",8,0,2, NULL}, 
		{0xfd, "SET 7, L",8,0,2, NULL}, 
		{0xfe, "SET 7, (HL)",16,0,2, NULL}, 
		{0xff, "SET 7, A",8,0,2, NULL},


    };
    
    public:
    Z80();
    /* Emulates one CPU cycle */
    void cycle();
    ~Z80();
};


